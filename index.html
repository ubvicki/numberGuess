<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Number Guess</title>
</head>

<body>
  <div class="full">
    <div class="main">

      <div class="header">
        <h1>Welcome to Number Guess Game</h1>
      </div>

      <div class="game">
        <h4 id="chance">Chances: 6</h4>
        <p class="display" id="display"> Enter a Number between <strong>1</strong> and <strong>100</strong></p>
        <input type="number" name="choice" id="choice">
        <button type="submit" class="check" id="submit" onclick="checker()">Check</button>
      </div>

    </div>
  </div>

  <div id="myModal" class="modal">

    <div class="modal-content">

      <div class="modal-header">
        <span class="close" id="close">&times;</span>
        <h2>Number Guess</h2>
      </div>

      <div class="modal-body">
        <h1 id="m-res"></h1>
      </div>

      <div class="modal-footer">
        <button class="play_again" onclick="playAgain()"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor" class="w-1 h-1">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" />
          </svg>Play Again</button>
      </div>

    </div>

  </div>

  <script>

    var input = document.getElementById("choice");
    input.addEventListener("keypress", function (event) {
      if (event.key === "Enter") {
        event.preventDefault();
        document.getElementById("submit").click();
      }
    });

    let num = Math.floor(Math.random() * 101) + 1;
    var modal = document.getElementById("myModal");
    let chance = 6;

    function checker() {
      let choice = document.getElementById("choice").value;
      chance = chance - 1;
      document.getElementById("chance").innerHTML = "Chances:" + chance;

      if (num == choice) {
        choice.disabled = true;
        var modal = document.getElementById("myModal");
        modal.style.display = "block";
        document.getElementById("m-res").innerHTML = "Congrats!!! You Have Won ";
      }
      else if (num > choice) {
        document.getElementById("display").innerHTML = "Bigger than " + choice;
      }
      else if (num < choice) {
        document.getElementById("display").innerHTML = "Smaller than " + choice;
      }

      if (chance <= 0) {
        choice.disabled = true;
        var modal = document.getElementById("myModal");
        modal.style.display = "block";
        document.getElementById("m-res").innerHTML = "You Have Lose\n Game Over";
      }
    }

    var modal = document.getElementById("myModal");
    var span = document.getElementsByClassName("close")[0];

    span.onclick = function () {
      modal.style.display = "none";
    }

    window.onclick = function (event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }

    function playAgain(){
      window.location.reload();
    }

  </script>
</body>

</html>